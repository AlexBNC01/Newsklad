# üë§ –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π –≤ —Å–∏—Å—Ç–µ–º–µ

## üìã –¢—Ä–∏ —Å–ø–æ—Å–æ–±–∞ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π

### 1. **–†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –∫–æ–º–ø–∞–Ω–∏–∏** - —Å–æ–∑–¥–∞–Ω–∏–µ –Ω–æ–≤–æ–π –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–∏
### 2. **–ü—Ä–∏–≥–ª–∞—à–µ–Ω–∏–µ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–æ–º** - —Ç–µ–∫—É—â–∏–π —Å–ø–æ—Å–æ–±
### 3. **–°–∞–º–æ—Å—Ç–æ—è—Ç–µ–ª—å–Ω–∞—è —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –ø–æ –∫–æ–¥—É** - –Ω–æ–≤—ã–π —Å–ø–æ—Å–æ–±

---

## üîÑ –¢–µ–∫—É—â–∏–π —Å–ø–æ—Å–æ–±: –ü—Ä–∏–≥–ª–∞—à–µ–Ω–∏–µ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–æ–º

### –ö–∞–∫ —ç—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç —Å–µ–π—á–∞—Å:

**–®–∞–≥ 1: –ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä –ø—Ä–∏–≥–ª–∞—à–∞–µ—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è**
```
POST /api/users/invite
Authorization: Bearer <admin_token>

{
  "email": "worker@company.ru",
  "full_name": "–ü–µ—Ç—Ä–æ–≤ –ò–≤–∞–Ω",
  "role": "worker"
}
```

**–®–∞–≥ 2: –°–∏—Å—Ç–µ–º–∞ —Å–æ–∑–¥–∞–µ—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è —Å –≤—Ä–µ–º–µ–Ω–Ω—ã–º –ø–∞—Ä–æ–ª–µ–º**
```javascript
// –ì–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç—Å—è —Å–ª—É—á–∞–π–Ω—ã–π –ø–∞—Ä–æ–ª—å
const tempPassword = Math.random().toString(36).slice(-8);
// –ù–∞–ø—Ä–∏–º–µ—Ä: "k2x9m4p1"

// –°–æ–∑–¥–∞–µ—Ç—Å—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å —Å —ç—Ç–∏–º –ø–∞—Ä–æ–ª–µ–º
const [newUser] = await db('users').insert({
  email,
  password_hash: await bcrypt.hash(tempPassword, 12),
  full_name,
  company_id: req.user.company_id,  // –ö–æ–º–ø–∞–Ω–∏—è –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞
  role,
  permissions: getPermissionsByRole(role),
  is_active: true,
});

// –í –æ—Ç–≤–µ—Ç–µ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç—Å—è –≤—Ä–µ–º–µ–Ω–Ω—ã–π –ø–∞—Ä–æ–ª—å
return {
  user: newUser,
  temp_password: tempPassword  // "k2x9m4p1"
}
```

**–®–∞–≥ 3: –ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä –ø–µ—Ä–µ–¥–∞–µ—Ç –¥–∞–Ω–Ω—ã–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é**
- Email: worker@company.ru  
- –í—Ä–µ–º–µ–Ω–Ω—ã–π –ø–∞—Ä–æ–ª—å: k2x9m4p1

**–®–∞–≥ 4: –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –≤—Ö–æ–¥–∏—Ç –∏ –º–µ–Ω—è–µ—Ç –ø–∞—Ä–æ–ª—å**
```
POST /api/auth/login
{
  "email": "worker@company.ru", 
  "password": "k2x9m4p1"
}

–ü–æ—Å–ª–µ –≤—Ö–æ–¥–∞:
PATCH /api/users/password  
{
  "current_password": "k2x9m4p1",
  "new_password": "myNewSecurePassword123"
}
```

### ‚ùå –ü—Ä–æ–±–ª–µ–º—ã —Ç–µ–∫—É—â–µ–≥–æ –ø–æ–¥—Ö–æ–¥–∞:
- –ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä –≤–∏–¥–∏—Ç –≤—Ä–µ–º–µ–Ω–Ω—ã–π –ø–∞—Ä–æ–ª—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
- –ù–µ–±–µ–∑–æ–ø–∞—Å–Ω–∞—è –ø–µ—Ä–µ–¥–∞—á–∞ –ø–∞—Ä–æ–ª—è —á–µ—Ä–µ–∑ WhatsApp/Telegram
- –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –º–æ–∂–µ—Ç –∑–∞–±—ã—Ç—å —Å–º–µ–Ω–∏—Ç—å –≤—Ä–µ–º–µ–Ω–Ω—ã–π –ø–∞—Ä–æ–ª—å

---

## ‚úÖ –ù–æ–≤—ã–π —Å–ø–æ—Å–æ–±: –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –ø–æ –∫–æ–¥—É –ø—Ä–∏–≥–ª–∞—à–µ–Ω–∏—è

–î–æ–±–∞–≤–∏–º –±–æ–ª–µ–µ –±–µ–∑–æ–ø–∞—Å–Ω—ã–π —Å–ø–æ—Å–æ–± —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏!

### –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ —Ä–µ—à–µ–Ω–∏—è:

**–ù–æ–≤–∞—è —Ç–∞–±–ª–∏—Ü–∞ `invitation_codes`:**
```sql
CREATE TABLE invitation_codes (
  id UUID PRIMARY KEY DEFAULT gen_random_uuid(),
  company_id UUID NOT NULL REFERENCES companies(id),
  code VARCHAR(8) UNIQUE NOT NULL,        -- 8-—Å–∏–º–≤–æ–ª—å–Ω—ã–π –∫–æ–¥
  email VARCHAR(255),                     -- –û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ - –¥–ª—è –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–≥–æ email
  role VARCHAR(20) NOT NULL,              -- admin/manager/worker  
  max_uses INTEGER DEFAULT 1,             -- –°–∫–æ–ª—å–∫–æ —Ä–∞–∑ –º–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å
  used_count INTEGER DEFAULT 0,           -- –°–∫–æ–ª—å–∫–æ —Ä–∞–∑ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω
  expires_at TIMESTAMP,                   -- –°—Ä–æ–∫ –¥–µ–π—Å—Ç–≤–∏—è
  created_by UUID REFERENCES users(id),   -- –ö—Ç–æ —Å–æ–∑–¥–∞–ª
  is_active BOOLEAN DEFAULT true,
  created_at TIMESTAMP DEFAULT NOW(),
  updated_at TIMESTAMP DEFAULT NOW()
);
```

### –ù–æ–≤—ã–µ API endpoints:

#### 1. –°–æ–∑–¥–∞–Ω–∏–µ –∫–æ–¥–∞ –ø—Ä–∏–≥–ª–∞—à–µ–Ω–∏—è (–¥–ª—è –∞–¥–º–∏–Ω–æ–≤/–º–µ–Ω–µ–¥–∂–µ—Ä–æ–≤)

```
POST /api/invitations/create
Authorization: Bearer <admin_token>

{
  "role": "worker",           // –†–æ–ª—å –¥–ª—è –Ω–æ–≤—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
  "email": "worker@mail.ru",  // –û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ - –¥–ª—è –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–≥–æ email
  "expires_in_days": 7,       // –°—Ä–æ–∫ –¥–µ–π—Å—Ç–≤–∏—è (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é 7 –¥–Ω–µ–π)  
  "max_uses": 1              // –°–∫–æ–ª—å–∫–æ —Ä–∞–∑ –º–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å
}

–û—Ç–≤–µ—Ç:
{
  "success": true,
  "data": {
    "code": "ABC123XY",       // 8-—Å–∏–º–≤–æ–ª—å–Ω—ã–π –∫–æ–¥
    "expires_at": "2025-01-28T10:30:00Z",
    "role": "worker",
    "max_uses": 1,
    "share_link": "https://your-app.com/register?code=ABC123XY"
  }
}
```

#### 2. –ü—Ä–æ–≤–µ—Ä–∫–∞ –∫–æ–¥–∞ –ø—Ä–∏–≥–ª–∞—à–µ–Ω–∏—è

```
GET /api/invitations/check/:code

–û—Ç–≤–µ—Ç:
{
  "success": true,
  "data": {
    "valid": true,
    "company_name": "–û–û–û –†–æ–º–∞—à–∫–∞",
    "role": "worker",  
    "email_required": "worker@mail.ru", // –ï—Å–ª–∏ –∫–æ–¥ –¥–ª—è –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–≥–æ email
    "expires_at": "2025-01-28T10:30:00Z"
  }
}
```

#### 3. –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –ø–æ –∫–æ–¥—É –ø—Ä–∏–≥–ª–∞—à–µ–Ω–∏—è

```
POST /api/auth/register-by-code

{
  "invitation_code": "ABC123XY",
  "email": "worker@mail.ru",      
  "full_name": "–ü–µ—Ç—Ä–æ–≤ –ò–≤–∞–Ω –°–µ—Ä–≥–µ–µ–≤–∏—á",
  "password": "mySecurePassword123"
}

–û—Ç–≤–µ—Ç:
{
  "success": true,
  "message": "–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å —É—Å–ø–µ—à–Ω–æ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω",
  "data": {
    "user": {
      "id": "uuid",
      "email": "worker@mail.ru",
      "full_name": "–ü–µ—Ç—Ä–æ–≤ –ò–≤–∞–Ω –°–µ—Ä–≥–µ–µ–≤–∏—á", 
      "role": "worker",
      "company": {
        "id": "uuid",
        "name": "–û–û–û –†–æ–º–∞—à–∫–∞"
      }
    },
    "tokens": {
      "access_token": "...",
      "refresh_token": "..."
    }
  }
}
```

---

## üìù –†–µ–∞–ª–∏–∑–∞—Ü–∏—è –Ω–æ–≤–æ–π —Å–∏—Å—Ç–µ–º—ã –ø—Ä–∏–≥–ª–∞—à–µ–Ω–∏–π

### –ù–æ–≤—ã–π —Ñ–∞–π–ª: `/backend/routes/invitations.js`

```javascript
const express = require('express');
const { body, validationResult } = require('express-validator');
const { requirePermission } = require('../middleware/auth');
const db = require('../config/database');
const router = express.Router();

// –ì–µ–Ω–µ—Ä–∞—Ü–∏—è —Å–ª—É—á–∞–π–Ω–æ–≥–æ 8-—Å–∏–º–≤–æ–ª—å–Ω–æ–≥–æ –∫–æ–¥–∞
const generateInvitationCode = () => {
  const chars = 'ABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789';
  let result = '';
  for (let i = 0; i < 8; i++) {
    result += chars.charAt(Math.floor(Math.random() * chars.length));
  }
  return result;
};

// –°–æ–∑–¥–∞–Ω–∏–µ –∫–æ–¥–∞ –ø—Ä–∏–≥–ª–∞—à–µ–Ω–∏—è
router.post('/create', requirePermission('can_manage_users'), [
  body('role')
    .isIn(['admin', 'manager', 'worker'])
    .withMessage('–ù–µ–¥–æ–ø—É—Å—Ç–∏–º–∞—è —Ä–æ–ª—å'),
  body('email')
    .optional()
    .isEmail()
    .normalizeEmail(),
  body('expires_in_days')
    .optional()
    .isInt({ min: 1, max: 30 })
    .withMessage('–°—Ä–æ–∫ –¥–µ–π—Å—Ç–≤–∏—è –æ—Ç 1 –¥–æ 30 –¥–Ω–µ–π'),
  body('max_uses')
    .optional()
    .isInt({ min: 1, max: 100 })
    .withMessage('–ú–∞–∫—Å–∏–º—É–º –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–π –æ—Ç 1 –¥–æ 100'),
], async (req, res, next) => {
  try {
    const errors = validationResult(req);
    if (!errors.isEmpty()) {
      return res.status(400).json({
        success: false,
        error: '–û—à–∏–±–∫–∞ –≤–∞–ª–∏–¥–∞—Ü–∏–∏ –¥–∞–Ω–Ω—ã—Ö',
        details: errors.array()
      });
    }

    const { role, email, expires_in_days = 7, max_uses = 1 } = req.body;

    // –ü—Ä–æ–≤–µ—Ä—è–µ–º –ª–∏–º–∏—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
    const company = await db('companies')
      .where('id', req.user.company_id)
      .first();

    const userCount = await db('users')
      .count('id as count')
      .where('company_id', req.user.company_id)
      .where('is_active', true)
      .first();

    const currentUsers = parseInt(userCount.count);
    const usersLimit = company.subscription?.users_limit || 5;

    if (currentUsers >= usersLimit) {
      return res.status(403).json({
        success: false,
        error: `–î–æ—Å—Ç–∏–≥–Ω—É—Ç –ª–∏–º–∏—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π (${usersLimit})`
      });
    }

    // –ï—Å–ª–∏ email —É–∫–∞–∑–∞–Ω - –ø—Ä–æ–≤–µ—Ä—è–µ–º —á—Ç–æ –æ–Ω –Ω–µ –∑–∞–Ω—è—Ç
    if (email) {
      const existingUser = await db('users').where('email', email).first();
      if (existingUser) {
        return res.status(409).json({
          success: false,
          error: '–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å —Å —Ç–∞–∫–∏–º email —É–∂–µ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç'
        });
      }
    }

    // –ì–µ–Ω–µ—Ä–∏—Ä—É–µ–º —É–Ω–∏–∫–∞–ª—å–Ω—ã–π –∫–æ–¥
    let code;
    let attempts = 0;
    do {
      code = generateInvitationCode();
      const existing = await db('invitation_codes').where('code', code).first();
      if (!existing) break;
      attempts++;
    } while (attempts < 10);

    if (attempts >= 10) {
      throw new Error('–ù–µ —É–¥–∞–ª–æ—Å—å —Å–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å —É–Ω–∏–∫–∞–ª—å–Ω—ã–π –∫–æ–¥');
    }

    // –°–æ–∑–¥–∞–µ–º –∫–æ–¥ –ø—Ä–∏–≥–ª–∞—à–µ–Ω–∏—è
    const expiresAt = new Date(Date.now() + expires_in_days * 24 * 60 * 60 * 1000);
    
    const [invitation] = await db('invitation_codes')
      .insert({
        company_id: req.user.company_id,
        code,
        email,
        role,
        max_uses,
        expires_at: expiresAt,
        created_by: req.user.id,
      })
      .returning('*');

    res.status(201).json({
      success: true,
      message: '–ö–æ–¥ –ø—Ä–∏–≥–ª–∞—à–µ–Ω–∏—è —Å–æ–∑–¥–∞–Ω',
      data: {
        code: invitation.code,
        expires_at: invitation.expires_at,
        role: invitation.role,
        email: invitation.email,
        max_uses: invitation.max_uses,
        share_link: `${process.env.APP_URL}/register?code=${invitation.code}`
      }
    });

  } catch (error) {
    next(error);
  }
});

// –ü—Ä–æ–≤–µ—Ä–∫–∞ –∫–æ–¥–∞ –ø—Ä–∏–≥–ª–∞—à–µ–Ω–∏—è
router.get('/check/:code', async (req, res, next) => {
  try {
    const { code } = req.params;

    const invitation = await db('invitation_codes')
      .select(
        'invitation_codes.*',
        'companies.name as company_name'
      )
      .join('companies', 'invitation_codes.company_id', 'companies.id')
      .where('invitation_codes.code', code)
      .where('invitation_codes.is_active', true)
      .where('invitation_codes.expires_at', '>', new Date())
      .where('invitation_codes.used_count', '<', db.raw('invitation_codes.max_uses'))
      .first();

    if (!invitation) {
      return res.status(404).json({
        success: false,
        error: '–ö–æ–¥ –ø—Ä–∏–≥–ª–∞—à–µ–Ω–∏—è –Ω–µ–¥–µ–π—Å—Ç–≤–∏—Ç–µ–ª–µ–Ω –∏–ª–∏ –∏—Å—Ç–µ–∫'
      });
    }

    res.json({
      success: true,
      data: {
        valid: true,
        company_name: invitation.company_name,
        role: invitation.role,
        email_required: invitation.email,
        expires_at: invitation.expires_at,
        uses_left: invitation.max_uses - invitation.used_count
      }
    });

  } catch (error) {
    next(error);
  }
});

// –ü–æ–ª—É—á–µ–Ω–∏–µ –≤—Å–µ—Ö –∫–æ–¥–æ–≤ –ø—Ä–∏–≥–ª–∞—à–µ–Ω–∏—è –∫–æ–º–ø–∞–Ω–∏–∏
router.get('/', requirePermission('can_manage_users'), async (req, res, next) => {
  try {
    const invitations = await db('invitation_codes')
      .select(
        'invitation_codes.*',
        'users.full_name as created_by_name'
      )
      .leftJoin('users', 'invitation_codes.created_by', 'users.id')
      .where('invitation_codes.company_id', req.user.company_id)
      .orderBy('invitation_codes.created_at', 'desc');

    res.json({
      success: true,
      data: invitations
    });

  } catch (error) {
    next(error);
  }
});

// –î–µ–∞–∫—Ç–∏–≤–∞—Ü–∏—è –∫–æ–¥–∞ –ø—Ä–∏–≥–ª–∞—à–µ–Ω–∏—è
router.delete('/:code', requirePermission('can_manage_users'), async (req, res, next) => {
  try {
    const { code } = req.params;

    const updated = await db('invitation_codes')
      .where('code', code)
      .where('company_id', req.user.company_id)
      .update({
        is_active: false,
        updated_at: db.fn.now()
      });

    if (!updated) {
      return res.status(404).json({
        success: false,
        error: '–ö–æ–¥ –ø—Ä–∏–≥–ª–∞—à–µ–Ω–∏—è –Ω–µ –Ω–∞–π–¥–µ–Ω'
      });
    }

    res.json({
      success: true,
      message: '–ö–æ–¥ –ø—Ä–∏–≥–ª–∞—à–µ–Ω–∏—è –¥–µ–∞–∫—Ç–∏–≤–∏—Ä–æ–≤–∞–Ω'
    });

  } catch (error) {
    next(error);
  }
});

module.exports = router;
```

### –û–±–Ω–æ–≤–ª–µ–Ω–Ω—ã–π `/backend/routes/auth.js` - –¥–æ–±–∞–≤–∏–º —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—é –ø–æ –∫–æ–¥—É

```javascript
// –î–æ–±–∞–≤–∏–º –Ω–æ–≤—ã–π endpoint –ø–æ—Å–ª–µ —Å—É—â–µ—Å—Ç–≤—É—é—â–µ–≥–æ /register
router.post('/register-by-code', [
  body('invitation_code')
    .isLength({ min: 8, max: 8 })
    .withMessage('–ù–µ–∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–π –∫–æ–¥ –ø—Ä–∏–≥–ª–∞—à–µ–Ω–∏—è'),
  body('email')
    .isEmail()
    .normalizeEmail()
    .withMessage('–í–≤–µ–¥–∏—Ç–µ –∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–π email'),
  body('password')
    .isLength({ min: 6 })
    .withMessage('–ü–∞—Ä–æ–ª—å –¥–æ–ª–∂–µ–Ω —Å–æ–¥–µ—Ä–∂–∞—Ç—å –º–∏–Ω–∏–º—É–º 6 —Å–∏–º–≤–æ–ª–æ–≤'),
  body('full_name')
    .trim()
    .isLength({ min: 2 })
    .withMessage('–ü–æ–ª–Ω–æ–µ –∏–º—è –¥–æ–ª–∂–Ω–æ —Å–æ–¥–µ—Ä–∂–∞—Ç—å –º–∏–Ω–∏–º—É–º 2 —Å–∏–º–≤–æ–ª–∞'),
], async (req, res, next) => {
  try {
    const errors = validationResult(req);
    if (!errors.isEmpty()) {
      return res.status(400).json({
        success: false,
        error: '–û—à–∏–±–∫–∞ –≤–∞–ª–∏–¥–∞—Ü–∏–∏ –¥–∞–Ω–Ω—ã—Ö',
        details: errors.array()
      });
    }

    const { invitation_code, email, password, full_name } = req.body;

    // –ù–∞–π–¥–µ–º –¥–µ–π—Å—Ç–≤—É—é—â–∏–π –∫–æ–¥ –ø—Ä–∏–≥–ª–∞—à–µ–Ω–∏—è
    const invitation = await db('invitation_codes')
      .select('invitation_codes.*', 'companies.name as company_name')
      .join('companies', 'invitation_codes.company_id', 'companies.id')
      .where('invitation_codes.code', invitation_code)
      .where('invitation_codes.is_active', true)
      .where('invitation_codes.expires_at', '>', new Date())
      .where('invitation_codes.used_count', '<', db.raw('invitation_codes.max_uses'))
      .first();

    if (!invitation) {
      return res.status(404).json({
        success: false,
        error: '–ö–æ–¥ –ø—Ä–∏–≥–ª–∞—à–µ–Ω–∏—è –Ω–µ–¥–µ–π—Å—Ç–≤–∏—Ç–µ–ª–µ–Ω –∏–ª–∏ –∏—Å—Ç–µ–∫'
      });
    }

    // –ï—Å–ª–∏ –∫–æ–¥ –¥–ª—è –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–≥–æ email - –ø—Ä–æ–≤–µ—Ä—è–µ–º —Å–æ–≤–ø–∞–¥–µ–Ω–∏–µ
    if (invitation.email && invitation.email !== email) {
      return res.status(400).json({
        success: false,
        error: '–≠—Ç–æ—Ç –∫–æ–¥ –ø—Ä–µ–¥–Ω–∞–∑–Ω–∞—á–µ–Ω –¥–ª—è –¥—Ä—É–≥–æ–≥–æ email –∞–¥—Ä–µ—Å–∞'
      });
    }

    // –ü—Ä–æ–≤–µ—Ä—è–µ–º —á—Ç–æ email –Ω–µ –∑–∞–Ω—è—Ç
    const existingUser = await db('users').where('email', email).first();
    if (existingUser) {
      return res.status(409).json({
        success: false,
        error: '–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å —Å —Ç–∞–∫–∏–º email —É–∂–µ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç'
      });
    }

    // –ù–∞—á–∏–Ω–∞–µ–º —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏—é
    const result = await db.transaction(async (trx) => {
      // –•–µ—à–∏—Ä—É–µ–º –ø–∞—Ä–æ–ª—å
      const hashedPassword = await bcrypt.hash(password, parseInt(process.env.BCRYPT_ROUNDS) || 12);

      // –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º —Ä–∞–∑—Ä–µ—à–µ–Ω–∏—è –ø–æ —Ä–æ–ª–∏ –∏–∑ –ø—Ä–∏–≥–ª–∞—à–µ–Ω–∏—è
      let permissions = {};
      switch (invitation.role) {
        case 'admin':
          permissions = {
            can_manage_users: true,
            can_manage_equipment: true,
            can_manage_inventory: true,
            can_view_reports: true,
            can_export_data: true,
          };
          break;
        case 'manager':
          permissions = {
            can_manage_users: false,
            can_manage_equipment: true,
            can_manage_inventory: true,
            can_view_reports: true,
            can_export_data: true,
          };
          break;
        case 'worker':
          permissions = {
            can_manage_users: false,
            can_manage_equipment: false,
            can_manage_inventory: true,
            can_view_reports: false,
            can_export_data: false,
          };
          break;
      }

      // –°–æ–∑–¥–∞–µ–º –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
      const [user] = await trx('users')
        .insert({
          email,
          password_hash: hashedPassword,
          full_name,
          company_id: invitation.company_id,
          role: invitation.role,
          permissions,
          is_active: true,
        })
        .returning('*');

      // –£–≤–µ–ª–∏—á–∏–≤–∞–µ–º —Å—á–µ—Ç—á–∏–∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–π –∫–æ–¥–∞
      await trx('invitation_codes')
        .where('id', invitation.id)
        .update({
          used_count: invitation.used_count + 1,
          updated_at: trx.fn.now()
        });

      // –ì–µ–Ω–µ—Ä–∏—Ä—É–µ–º —Ç–æ–∫–µ–Ω—ã
      const { accessToken, refreshToken } = generateTokens(user.id);

      // –°–æ—Ö—Ä–∞–Ω—è–µ–º refresh token
      await trx('refresh_tokens').insert({
        user_id: user.id,
        token: refreshToken,
        expires_at: new Date(Date.now() + 7 * 24 * 60 * 60 * 1000),
      });

      return { 
        user, 
        company_name: invitation.company_name,
        tokens: { accessToken, refreshToken }
      };
    });

    res.status(201).json({
      success: true,
      message: '–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å —É—Å–ø–µ—à–Ω–æ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω',
      data: {
        user: {
          id: result.user.id,
          email: result.user.email,
          full_name: result.user.full_name,
          role: result.user.role,
          permissions: result.user.permissions,
          company: {
            id: result.user.company_id,
            name: result.company_name
          }
        },
        tokens: {
          access_token: result.tokens.accessToken,
          refresh_token: result.tokens.refreshToken,
          expires_in: 900
        }
      }
    });

  } catch (error) {
    next(error);
  }
});
```

### –ú–∏–≥—Ä–∞—Ü–∏—è –¥–ª—è —Ç–∞–±–ª–∏—Ü—ã –ø—Ä–∏–≥–ª–∞—à–µ–Ω–∏–π

```javascript
// /backend/migrations/014_create_invitation_codes.js
exports.up = function(knex) {
  return knex.schema.createTable('invitation_codes', (table) => {
    table.uuid('id').primary().defaultTo(knex.fn.uuid());
    table.uuid('company_id').notNullable().references('id').inTable('companies').onDelete('CASCADE');
    table.string('code', 8).unique().notNullable();
    table.string('email');
    table.string('role', 20).notNullable();
    table.integer('max_uses').defaultTo(1);
    table.integer('used_count').defaultTo(0);
    table.timestamp('expires_at');
    table.uuid('created_by').references('id').inTable('users').onDelete('SET NULL');
    table.boolean('is_active').defaultTo(true);
    table.timestamps(true, true);

    table.index(['company_id', 'code']);
    table.index(['code', 'is_active', 'expires_at']);
  });
};

exports.down = function(knex) {
  return knex.schema.dropTableIfExists('invitation_codes');
};
```

---

## üì± UI –¥–ª—è –Ω–æ–≤–æ–π —Å–∏—Å—Ç–µ–º—ã —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏

### –≠–∫—Ä–∞–Ω —Å–æ–∑–¥–∞–Ω–∏—è –ø—Ä–∏–≥–ª–∞—à–µ–Ω–∏–π (–¥–ª—è –∞–¥–º–∏–Ω–æ–≤)

```javascript
// src/screens/InviteUserScreen.js
export default function InviteUserScreen() {
  const [method, setMethod] = useState('direct'); // 'direct' –∏–ª–∏ 'code'
  const [formData, setFormData] = useState({
    email: '',
    full_name: '',
    role: 'worker',
    expires_in_days: 7,
    max_uses: 1
  });

  const handleCreateInvitation = async () => {
    if (method === 'direct') {
      // –°—Ç–∞—Ä—ã–π —Å–ø–æ—Å–æ–± - –ø—Ä—è–º–æ–µ –ø—Ä–∏–≥–ª–∞—à–µ–Ω–∏–µ
      const result = await userAPI.inviteUser(formData);
    } else {
      // –ù–æ–≤—ã–π —Å–ø–æ—Å–æ–± - —Å–æ–∑–¥–∞–Ω–∏–µ –∫–æ–¥–∞
      const result = await invitationAPI.createCode(formData);
      if (result.success) {
        // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º –∫–æ–¥ –∏ —Å—Å—ã–ª–∫—É –¥–ª—è –æ—Ç–ø—Ä–∞–≤–∫–∏
        Alert.alert(
          '–ö–æ–¥ –ø—Ä–∏–≥–ª–∞—à–µ–Ω–∏—è —Å–æ–∑–¥–∞–Ω!',
          `–ö–æ–¥: ${result.data.code}\n\n–°—Å—ã–ª–∫–∞ –¥–ª—è –æ—Ç–ø—Ä–∞–≤–∫–∏:\n${result.data.share_link}`,
          [
            { text: '–°–∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å –∫–æ–¥', onPress: () => Clipboard.setString(result.data.code) },
            { text: '–ü–æ–¥–µ–ª–∏—Ç—å—Å—è —Å—Å—ã–ª–∫–æ–π', onPress: () => Share.share({ url: result.data.share_link }) }
          ]
        );
      }
    }
  };

  return (
    <View style={styles.container}>
      <Text style={styles.title}>–ü—Ä–∏–≥–ª–∞—Å–∏—Ç—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è</Text>
      
      {/* –í—ã–±–æ—Ä —Å–ø–æ—Å–æ–±–∞ –ø—Ä–∏–≥–ª–∞—à–µ–Ω–∏—è */}
      <View style={styles.methodSelector}>
        <TouchableOpacity 
          style={[styles.methodButton, method === 'direct' && styles.methodButtonActive]}
          onPress={() => setMethod('direct')}
        >
          <Text>–ü—Ä—è–º–æ–µ –ø—Ä–∏–≥–ª–∞—à–µ–Ω–∏–µ</Text>
        </TouchableOpacity>
        
        <TouchableOpacity 
          style={[styles.methodButton, method === 'code' && styles.methodButtonActive]}
          onPress={() => setMethod('code')}
        >
          <Text>–ö–æ–¥ –ø—Ä–∏–≥–ª–∞—à–µ–Ω–∏—è</Text>
        </TouchableOpacity>
      </View>

      {/* –§–æ—Ä–º–∞ */}
      {method === 'direct' ? (
        // –°—Ç–∞—Ä–∞—è —Ñ–æ—Ä–º–∞ –¥–ª—è –ø—Ä—è–º–æ–≥–æ –ø—Ä–∏–≥–ª–∞—à–µ–Ω–∏—è
        <>
          <TextInput
            placeholder="Email –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è"
            value={formData.email}
            onChangeText={(text) => setFormData({...formData, email: text})}
          />
          <TextInput
            placeholder="–§–ò–û –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è"
            value={formData.full_name}
            onChangeText={(text) => setFormData({...formData, full_name: text})}
          />
        </>
      ) : (
        // –ù–æ–≤–∞—è —Ñ–æ—Ä–º–∞ –¥–ª—è –∫–æ–¥–∞ –ø—Ä–∏–≥–ª–∞—à–µ–Ω–∏—è
        <>
          <TextInput
            placeholder="Email (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ - –¥–ª—è –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è)"
            value={formData.email}
            onChangeText={(text) => setFormData({...formData, email: text})}
          />
          <Text>–°—Ä–æ–∫ –¥–µ–π—Å—Ç–≤–∏—è: {formData.expires_in_days} –¥–Ω–µ–π</Text>
          <Slider
            value={formData.expires_in_days}
            minimumValue={1}
            maximumValue={30}
            step={1}
            onValueChange={(value) => setFormData({...formData, expires_in_days: value})}
          />
        </>
      )}

      {/* –í—ã–±–æ—Ä —Ä–æ–ª–∏ */}
      <Picker
        selectedValue={formData.role}
        onValueChange={(value) => setFormData({...formData, role: value})}
      >
        <Picker.Item label="–†–∞–±–æ—Ç–Ω–∏–∫" value="worker" />
        <Picker.Item label="–ú–µ–Ω–µ–¥–∂–µ—Ä" value="manager" />
        <Picker.Item label="–ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä" value="admin" />
      </Picker>

      <Button
        title={method === 'direct' ? '–ü—Ä–∏–≥–ª–∞—Å–∏—Ç—å –Ω–∞–ø—Ä—è–º—É—é' : '–°–æ–∑–¥–∞—Ç—å –∫–æ–¥ –ø—Ä–∏–≥–ª–∞—à–µ–Ω–∏—è'}
        onPress={handleCreateInvitation}
      />
    </View>
  );
}
```

### –≠–∫—Ä–∞–Ω —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏ –ø–æ –∫–æ–¥—É

```javascript
// src/screens/RegisterByCodeScreen.js
export default function RegisterByCodeScreen({ route, navigation }) {
  const [code, setCode] = useState(route.params?.code || '');
  const [invitation, setInvitation] = useState(null);
  const [formData, setFormData] = useState({
    email: '',
    full_name: '',
    password: ''
  });
  const { registerByCode } = useAuth();

  const checkInvitationCode = async (invitationCode) => {
    const result = await invitationAPI.checkCode(invitationCode);
    if (result.success && result.data.valid) {
      setInvitation(result.data);
      if (result.data.email_required) {
        setFormData(prev => ({ ...prev, email: result.data.email_required }));
      }
    } else {
      Alert.alert('–û—à–∏–±–∫–∞', '–ö–æ–¥ –ø—Ä–∏–≥–ª–∞—à–µ–Ω–∏—è –Ω–µ–¥–µ–π—Å—Ç–≤–∏—Ç–µ–ª–µ–Ω –∏–ª–∏ –∏—Å—Ç–µ–∫');
    }
  };

  const handleRegister = async () => {
    const result = await registerByCode({
      invitation_code: code,
      ...formData
    });

    if (result.success) {
      navigation.replace('Main');
    } else {
      Alert.alert('–û—à–∏–±–∫–∞', result.error);
    }
  };

  return (
    <View style={styles.container}>
      <Text style={styles.title}>–†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –ø–æ –∫–æ–¥—É –ø—Ä–∏–≥–ª–∞—à–µ–Ω–∏—è</Text>
      
      <TextInput
        style={styles.input}
        placeholder="–ö–æ–¥ –ø—Ä–∏–≥–ª–∞—à–µ–Ω–∏—è (8 —Å–∏–º–≤–æ–ª–æ–≤)"
        value={code}
        onChangeText={setCode}
        onBlur={() => code && checkInvitationCode(code)}
        autoCapitalize="characters"
        maxLength={8}
      />

      {invitation && (
        <View style={styles.invitationInfo}>
          <Text>üè¢ –ö–æ–º–ø–∞–Ω–∏—è: {invitation.company_name}</Text>
          <Text>üë§ –†–æ–ª—å: {invitation.role}</Text>
          <Text>‚è∞ –î–µ–π—Å—Ç–≤–∏—Ç–µ–ª–µ–Ω –¥–æ: {new Date(invitation.expires_at).toLocaleDateString()}</Text>
        </View>
      )}

      <TextInput
        placeholder="–í–∞—à email"
        value={formData.email}
        onChangeText={(text) => setFormData({...formData, email: text})}
        editable={!invitation?.email_required}
        keyboardType="email-address"
      />

      <TextInput
        placeholder="–í–∞—à–µ –ø–æ–ª–Ω–æ–µ –∏–º—è"
        value={formData.full_name}
        onChangeText={(text) => setFormData({...formData, full_name: text})}
      />

      <TextInput
        placeholder="–ü—Ä–∏–¥—É–º–∞–π—Ç–µ –ø–∞—Ä–æ–ª—å (–º–∏–Ω–∏–º—É–º 6 —Å–∏–º–≤–æ–ª–æ–≤)"
        value={formData.password}
        onChangeText={(text) => setFormData({...formData, password: text})}
        secureTextEntry
      />

      <Button
        title="–ó–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞—Ç—å—Å—è"
        onPress={handleRegister}
        disabled={!invitation}
      />
    </View>
  );
}
```

---

## üéØ –ò—Ç–æ–≥–æ–≤–∞—è —Å—Ö–µ–º–∞ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π

```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ                    –°–ü–û–°–û–ë–´ –†–ï–ì–ò–°–¢–†–ê–¶–ò–ò                          ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò

1Ô∏è‚É£ –†–ï–ì–ò–°–¢–†–ê–¶–ò–Ø –ö–û–ú–ü–ê–ù–ò–ò
   üì± App ‚Üí POST /api/auth/register
   ‚úÖ –°–æ–∑–¥–∞–µ—Ç—Å—è: –ö–æ–º–ø–∞–Ω–∏—è + –ü–µ—Ä–≤—ã–π –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä

2Ô∏è‚É£ –ü–†–ò–ì–õ–ê–®–ï–ù–ò–ï –ê–î–ú–ò–ù–ò–°–¢–†–ê–¢–û–†–û–ú (—Å—Ç–∞—Ä—ã–π —Å–ø–æ—Å–æ–±)
   üë®‚Äçüíº –ê–¥–º–∏–Ω ‚Üí POST /api/users/invite ‚Üí üîë –í—Ä–µ–º–µ–Ω–Ω—ã–π –ø–∞—Ä–æ–ª—å
   üì© –ê–¥–º–∏–Ω –ø–µ—Ä–µ–¥–∞–µ—Ç –¥–∞–Ω–Ω—ã–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é
   üë§ –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å ‚Üí POST /api/auth/login ‚Üí PATCH /api/users/password

3Ô∏è‚É£ –ö–û–î –ü–†–ò–ì–õ–ê–®–ï–ù–ò–Ø (–Ω–æ–≤—ã–π —Å–ø–æ—Å–æ–±)
   üë®‚Äçüíº –ê–¥–º–∏–Ω ‚Üí POST /api/invitations/create ‚Üí üìã –ö–æ–¥ ABC123XY
   üì± –ê–¥–º–∏–Ω –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç –∫–æ–¥/—Å—Å—ã–ª–∫—É –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é
   üë§ –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å ‚Üí POST /api/auth/register-by-code ‚Üí ‚úÖ –°—Ä–∞–∑—É –≤—Ö–æ–¥

‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ                     –ü–†–ï–ò–ú–£–©–ï–°–¢–í–ê –ù–û–í–û–ì–û –ü–û–î–•–û–î–ê                ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò

‚úÖ –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å: –ê–¥–º–∏–Ω –Ω–µ –≤–∏–¥–∏—Ç –ø–∞—Ä–æ–ª—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
‚úÖ –£–¥–æ–±—Å—Ç–≤–æ: –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å —Å—Ä–∞–∑—É —Å–æ–∑–¥–∞–µ—Ç —Å–≤–æ–π –ø–∞—Ä–æ–ª—å  
‚úÖ –ì–∏–±–∫–æ—Å—Ç—å: –ö–æ–¥ –º–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –Ω–µ—Å–∫–æ–ª—å–∫–æ —Ä–∞–∑
‚úÖ –ö–æ–Ω—Ç—Ä–æ–ª—å: –°—Ä–æ–∫ –¥–µ–π—Å—Ç–≤–∏—è –∫–æ–¥–∞, –¥–µ–∞–∫—Ç–∏–≤–∞—Ü–∏—è
‚úÖ UX: –°—Å—ã–ª–∫–∞ –≤–∏–¥–∞ your-app.com/register?code=ABC123XY
```

–¢–µ–ø–µ—Ä—å —É –≤–∞—Å –µ—Å—Ç—å **—Ç—Ä–∏ —Å–ø–æ—Å–æ–±–∞** –¥–æ–±–∞–≤–ª–µ–Ω–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π –≤ —Å–∏—Å—Ç–µ–º—É - –≤—ã–±–∏—Ä–∞–π—Ç–µ —Å–∞–º—ã–π –ø–æ–¥—Ö–æ–¥—è—â–∏–π –¥–ª—è –≤–∞—à–µ–≥–æ —Å–ª—É—á–∞—è! üöÄ